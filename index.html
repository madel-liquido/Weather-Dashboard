<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Weather Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
</head>

<body>
    <nav class="navbar navbar-dark bg-dark nav">
        <h2>Weather Dashboard</h2>
    </nav>

    <div class=row>
        <div class="col-sm-3 citySearchContent">
            <h6>Search for a City</h6>
            <div class="input-group searchBar">
                <input type="text" class="form-control cityInSearchBar" placeholder="city">
                <div class="input-group-append">
                    <button class="btn btn-primary searchButton" type="button">
                            <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
            <ul class="list-group">
                <li class="list-group-item">Austin</li>
                <li class="list-group-item">Chicago</li>
                <li class="list-group-item">New York</li>
                <li class="list-group-item">Orlando</li>
                <li class="list-group-item">San Francisco</li>
                <li class="list-group-item">Seattle</li>
                <li class="list-group-item">Denver</li>
                <li class="list-group-item">Atlanta</li>
            </ul>
        </div>

        <div class="col-sm-9 weatherContent">
            <div class="card">
                <div class="card-body cityWeatherContent">
                    <h5 class="card-title cityName">Atlanta</h5>
                    <p class="weatherImage"></p>
                    <div class="temperature">Temperature: </div>
                    <div class="humidity">Humidity:</div>
                    <div class="windspeed">Windspeed:</div>
                    <div class="UVIndex">UV Index:</div>
                </div>
            </div>
            <div class="fiveDayForecast">
                <h4>5 Day Forecast</h4>
                <div class="card-deck">
                    <div class="card text-white bg-primary mb-3" style="max-width: 12rem;">
                        <div class="card-body">
                            <h5 class="card-title">Date</h5>
                            <p class="card-text">Weather Image</p>
                            <p class="card-text">Temp</p>
                            <p class="card-text">Humidity</p>
                        </div>
                    </div>

                    <div class="card text-white bg-primary mb-3" style="max-width: 12rem;">
                        <div class="card-body">
                            <h5 class="card-title">Date</h5>
                            <p class="card-text">Weather Image</p>
                            <p class="card-text">Temp</p>
                            <p class="card-text">Humidity</p>
                        </div>
                    </div>

                    <div class="card text-white bg-primary mb-3" style="max-width: 12rem;">
                        <div class="card-body">
                            <h5 class="card-title">Date</h5>
                            <p class="card-text">Weather Image</p>
                            <p class="card-text">Temp</p>
                            <p class="card-text">Humidity</p>
                        </div>
                    </div>

                    <div class="card text-white bg-primary mb-3" style="max-width: 12rem;">
                        <div class="card-body">
                            <h5 class="card-title">Date</h5>
                            <p class="card-text">Weather Image</p>
                            <p class="card-text">Temp</p>
                            <p class="card-text">Humidity</p>
                        </div>
                    </div>

                    <div class="card text-white bg-primary mb-3" style="max-width: 12rem;">
                        <div class="card-body">
                            <h5 class="card-title">Date</h5>
                            <p class="card-text">Weather Image</p>
                            <p class="card-text">Temp</p>
                            <p class="card-text">Humidity</p>
                        </div>
                    </div>
                </div>

            </div>

        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script type="text/javascript">
            $(".searchButton").on("click", function(event) {
                // This is our API key
                var APIKey = "6d4195a03381e835c0506dab4bd5193c";

                // Here we are building the URL we need to query the database
                var queryURL = "https://api.openweathermap.org/data/2.5/weather?" +
                    "q=" + $(".cityInSearchBar").val() + "&units=imperial&appid=" + APIKey;

                // Here we run our AJAX call to the OpenWeatherMap API
                $.ajax({
                        url: queryURL,
                        method: "GET"
                    })
                    // We store all of the retrieved data inside of an object called "response"
                    .then(function(response) {

                        // Log the queryURL
                        console.log(queryURL);

                        // Log the resulting object
                        console.log(response);

                        // Transfer content to HTML
                        //var imageURL = response.weather.icon;
                        // var image = $("<img>").attr("src", imageURL);
                        //$(".weatherImage").append(imageURL);

                        $(".cityName").html("<h1>" + response.name + "</h1>");
                        $(".windspeed").text("Wind Speed: " + response.wind.speed + " MPH");
                        $(".humidity").text("Humidity: " + response.main.humidity + "%");
                        $(".temperature").html("Temperature: " + response.main.temp + "&#8457;");
                    });

                // Log the data in the console as well
                console.log("Wind Speed: " + response.wind.speed);
                console.log("Humidity: " + response.main.humidity);
                console.log("Temperature (F): " + response.main.temp);



                $(".searchButton").on("click", function(event) {
                    event.preventDefault();
                    console.log($(".cityInSearchBar").val());

                });
            });
        </script>
</body>

</html>